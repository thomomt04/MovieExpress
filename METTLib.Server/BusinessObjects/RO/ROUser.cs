// Generated 21 May 2018 10:40 - Singular Systems Object Generator Version 2.2.694
//<auto-generated/>
using System;
using Csla;
using Csla.Serialization;
using Csla.Data;
using System.ComponentModel;
using System.ComponentModel.DataAnnotations;
using Singular;
using System.Data;
using System.Data.SqlClient;


namespace MELib.RO
{
	[Serializable]
	public class ROUser
	 : MEReadOnlyBase<ROUser>
	{
		#region " Properties and Methods "

		#region " Properties "

		public static PropertyInfo<int> UserIDProperty = RegisterProperty<int>(c => c.UserID, "ID", 0);
		/// <summary>
		/// Gets the ID value
		/// </summary>
		[Display(AutoGenerateField = false), Key]
		public int UserID
		{
			get { return GetProperty(UserIDProperty); }
		}

		public static PropertyInfo<string> FirstNameProperty = RegisterProperty<string>(c => c.FirstName, "First Name");
		/// <summary>
		/// Gets the First Name value
		/// </summary>
		[Display(Name = "First Name", Description = "")]
		public string FirstName
		{
			get { return GetProperty(FirstNameProperty); }
		}

		public static PropertyInfo<string> LastNameProperty = RegisterProperty<string>(c => c.LastName, "Last Name");
		/// <summary>
		/// Gets the Last Name value
		/// </summary>
		[Display(Name = "Last Name", Description = "")]
		public string LastName
		{
			get { return GetProperty(LastNameProperty); }
		}

		public static PropertyInfo<String> UserNameProperty = RegisterProperty<String>(c => c.UserName, "User Name", "");
		/// <summary>
		/// Gets the User Name value
		/// </summary>
		[Display(Name = "User Name", Description = "")]
		public String UserName
		{
			get { return GetProperty(UserNameProperty); }
		}

		public static PropertyInfo<String> EmailAddressProperty = RegisterProperty<String>(c => c.EmailAddress, "Email Address", "");
		/// <summary>
		/// Gets the Email Address value
		/// </summary>
		[Display(Name = "Email Address", Description = "")]
		public String EmailAddress
		{
			get { return GetProperty(EmailAddressProperty); }
		}

		public String FullName
		{
			get {
				return GetProperty(FirstNameProperty) + " " + GetProperty(LastNameProperty); }
		}

		#endregion

		#region " Methods "

		protected override object GetIdValue()
		{
			return GetProperty(UserIDProperty);
		}

		public override string ToString()
		{
			return this.UserName;
		}

		#endregion

		#endregion

		#region " Data Access & Factory Methods "

		internal static ROUser GetROUser(SafeDataReader dr)
		{
			var r = new ROUser();
			r.Fetch(dr);
			return r;
		}

		protected void Fetch(SafeDataReader sdr)
		{
			int i = 0;
			LoadProperty(UserIDProperty, sdr.GetInt32(i++));
			LoadProperty(FirstNameProperty, Helpers.MEHelpers.DecryptStringDatabaseValue(sdr.GetValue(i++)));			
			LoadProperty(LastNameProperty, Helpers.MEHelpers.DecryptStringDatabaseValue(sdr.GetValue(i++)));
			LoadProperty(UserNameProperty, sdr.GetString(i++));
			LoadProperty(EmailAddressProperty, sdr.GetString(i++));
		}

		#endregion

	}

}